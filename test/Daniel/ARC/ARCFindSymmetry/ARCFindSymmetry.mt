(*
    Tests for: Daniel`ARC`ARCFindSymmetry
    
    To run these tests:
    
        << DevTools`
        << Daniel`ARC`
        RunUnitTests[Daniel`ARC`ARCFindSymmetry]
    
    Author: danielb
*)

Test[
    Utility`ReplaceAssociationsWithUnevaluatedAssociations[
        DevTools`TestingTools`SlowTest[
            Daniel`ARC`ARCFindSymmetry[
                Daniel`ARC`ARCParseFile["3631a71a"]["Train"][[1, "Input"]]
            ]
        ]
    ]
    ,
    <|
        "CenterY" -> 16.5,
        "CenterX" -> 16.5,
        "Y" -> 3,
        "X" -> 3,
        "Y2" -> 30,
        "X2" -> 30,
        "CorruptionColor" -> 9,
        "Imputations" -> {
            {6, 30} -> 0,
            {6, 29} -> 0,
            {6, 28} -> 0,
            {6, 27} -> 0,
            {6, 26} -> 0,
            {6, 25} -> 0,
            {6, 24} -> 1,
            {6, 23} -> 0,
            {7, 30} -> 0,
            {7, 29} -> 7,
            {7, 28} -> 0,
            {7, 27} -> 0,
            {7, 26} -> 3,
            {7, 25} -> 0,
            {7, 24} -> 0,
            {7, 23} -> 0,
            {8, 30} -> 7,
            {8, 29} -> 0,
            {8, 28} -> 0,
            {8, 27} -> 0,
            {8, 26} -> 0,
            {8, 25} -> 0,
            {8, 24} -> 0,
            {8, 23} -> 7,
            {9, 3} -> 5,
            {9, 30} -> 5,
            {9, 4} -> 5,
            {9, 29} -> 5,
            {9, 5} -> 0,
            {9, 28} -> 0,
            {9, 6} -> 1,
            {9, 27} -> 1,
            {9, 7} -> 0,
            {9, 26} -> 0,
            {9, 25} -> 0,
            {9, 24} -> 0,
            {9, 23} -> 0,
            {10, 3} -> 5,
            {10, 30} -> 5,
            {10, 4} -> 0,
            {10, 29} -> 0,
            {10, 5} -> 1,
            {10, 28} -> 1,
            {10, 6} -> 0,
            {10, 27} -> 0,
            {10, 7} -> 0,
            {10, 26} -> 0,
            {10, 25} -> 7,
            {10, 24} -> 0,
            {10, 23} -> 8,
            {10, 13} -> 0,
            {10, 14} -> 0,
            {10, 19} -> 0,
            {10, 15} -> 0,
            {10, 18} -> 0,
            {10, 16} -> 0,
            {10, 17} -> 0,
            {11, 3} -> 4,
            {11, 30} -> 4,
            {11, 4} -> 0,
            {11, 29} -> 0,
            {11, 5} -> 0,
            {11, 28} -> 0,
            {11, 6} -> 0,
            {11, 27} -> 0,
            {11, 7} -> 0,
            {11, 26} -> 0,
            {11, 25} -> 0,
            {11, 24} -> 4,
            {11, 23} -> 0,
            {11, 13} -> 0,
            {11, 14} -> 0,
            {11, 19} -> 0,
            {11, 15} -> 0,
            {11, 18} -> 0,
            {11, 16} -> 7,
            {11, 17} -> 7,
            {12, 28} -> 0,
            {12, 27} -> 7,
            {12, 26} -> 0,
            {12, 25} -> 2,
            {12, 24} -> 0,
            {12, 23} -> 0,
            {12, 13} -> 0,
            {12, 14} -> 0,
            {12, 19} -> 0,
            {12, 15} -> 7,
            {12, 18} -> 7,
            {12, 16} -> 0,
            {12, 17} -> 0,
            {13, 28} -> 7,
            {13, 27} -> 0,
            {13, 26} -> 4,
            {13, 25} -> 0,
            {13, 24} -> 0,
            {13, 23} -> 0,
            {13, 13} -> 1,
            {13, 14} -> 0,
            {13, 19} -> 0,
            {13, 15} -> 0,
            {13, 18} -> 0,
            {13, 16} -> 1,
            {13, 17} -> 1,
            {14, 13} -> 0,
            {14, 14} -> 0,
            {14, 19} -> 0,
            {14, 15} -> 1,
            {14, 18} -> 1,
            {14, 16} -> 1,
            {14, 17} -> 1,
            {15, 13} -> 0,
            {15, 14} -> 1,
            {15, 19} -> 1,
            {15, 15} -> 1,
            {15, 18} -> 1,
            {15, 16} -> 0,
            {15, 17} -> 0,
            {6, 23} -> 0,
            {6, 24} -> 1,
            {6, 25} -> 0,
            {6, 26} -> 0,
            {6, 27} -> 0,
            {6, 28} -> 0,
            {6, 29} -> 0,
            {6, 30} -> 0,
            {7, 23} -> 0,
            {7, 24} -> 0,
            {7, 25} -> 0,
            {7, 26} -> 3,
            {7, 27} -> 0,
            {7, 28} -> 0,
            {7, 29} -> 7,
            {7, 30} -> 0,
            {8, 23} -> 7,
            {8, 24} -> 0,
            {8, 25} -> 0,
            {8, 26} -> 0,
            {8, 27} -> 0,
            {8, 28} -> 0,
            {8, 29} -> 0,
            {8, 30} -> 7,
            {9, 1} -> 6,
            {9, 2} -> 6,
            {9, 3} -> 5,
            {9, 4} -> 5,
            {9, 5} -> 0,
            {9, 6} -> 1,
            {9, 7} -> 0,
            {9, 23} -> 0,
            {9, 24} -> 0,
            {9, 25} -> 0,
            {9, 26} -> 0,
            {9, 27} -> 1,
            {9, 28} -> 0,
            {9, 29} -> 5,
            {9, 30} -> 5,
            {10, 1} -> 6,
            {10, 2} -> 6,
            {10, 3} -> 5,
            {10, 4} -> 0,
            {10, 5} -> 1,
            {10, 6} -> 0,
            {10, 7} -> 0,
            {10, 13} -> 0,
            {10, 14} -> 0,
            {10, 15} -> 0,
            {10, 16} -> 0,
            {10, 17} -> 0,
            {10, 18} -> 0,
            {10, 19} -> 0,
            {10, 23} -> 8,
            {10, 24} -> 0,
            {10, 25} -> 7,
            {10, 26} -> 0,
            {10, 27} -> 0,
            {10, 28} -> 1,
            {10, 29} -> 0,
            {10, 30} -> 5,
            {11, 1} -> 5,
            {11, 2} -> 5,
            {11, 3} -> 4,
            {11, 4} -> 0,
            {11, 5} -> 0,
            {11, 6} -> 0,
            {11, 7} -> 0,
            {11, 13} -> 0,
            {11, 14} -> 0,
            {11, 15} -> 0,
            {11, 16} -> 7,
            {11, 17} -> 7,
            {11, 18} -> 0,
            {11, 19} -> 0,
            {11, 23} -> 0,
            {11, 24} -> 4,
            {11, 25} -> 0,
            {11, 26} -> 0,
            {11, 27} -> 0,
            {11, 28} -> 0,
            {11, 29} -> 0,
            {11, 30} -> 4,
            {12, 13} -> 0,
            {12, 14} -> 0,
            {12, 15} -> 7,
            {12, 16} -> 0,
            {12, 17} -> 0,
            {12, 18} -> 7,
            {12, 19} -> 0,
            {12, 23} -> 0,
            {12, 24} -> 0,
            {12, 25} -> 2,
            {12, 26} -> 0,
            {12, 27} -> 7,
            {12, 28} -> 0,
            {13, 13} -> 1,
            {13, 14} -> 0,
            {13, 15} -> 0,
            {13, 16} -> 1,
            {13, 17} -> 1,
            {13, 18} -> 0,
            {13, 19} -> 0,
            {13, 23} -> 0,
            {13, 24} -> 0,
            {13, 25} -> 0,
            {13, 26} -> 4,
            {13, 27} -> 0,
            {13, 28} -> 7,
            {14, 13} -> 0,
            {14, 14} -> 0,
            {14, 15} -> 1,
            {14, 16} -> 1,
            {14, 17} -> 1,
            {14, 18} -> 1,
            {14, 19} -> 0,
            {15, 13} -> 0,
            {15, 14} -> 1,
            {15, 15} -> 1,
            {15, 16} -> 0,
            {15, 17} -> 0,
            {15, 18} -> 1,
            {15, 19} -> 1
        }
    |>
    ,
    TestID -> "ARCFindSymmetry-20221001-VPYO5F"
]

Test[
    Utility`ReplaceAssociationsWithUnevaluatedAssociations[
        DevTools`TestingTools`SlowTest[
            Daniel`ARC`ARCFindSymmetry[
                Daniel`ARC`ARCParseFile["9ecd008a"]["Train"][[1, "Input"]]
            ]
        ]
    ]
    ,
    <|
        "CenterY" -> 8.5,
        "CenterX" -> 8.5,
        "Y" -> 1,
        "X" -> 1,
        "Y2" -> 16,
        "X2" -> 16,
        "CorruptionColor" -> 0,
        "Imputations" -> {
            {6, 5} -> 4,
            {6, 6} -> 7,
            {6, 7} -> 1,
            {7, 5} -> 1,
            {7, 6} -> 1,
            {7, 7} -> 1,
            {8, 5} -> 1,
            {8, 6} -> 9,
            {8, 7} -> 3
        }
    |>
    ,
    TestID -> "ARCFindSymmetry-20221002-IJQM1G"
]

Test[
    Utility`ReplaceAssociationsWithUnevaluatedAssociations[
        DevTools`TestingTools`SlowTest[
            Daniel`ARC`ARCFindSymmetry[
                Daniel`ARC`ARCParseFile["dc0a314f"]["Train"][[1, "Input"]]
            ]
        ]
    ]
    ,
    <|
        "CenterY" -> 8.5,
        "CenterX" -> 8.5,
        "Y" -> 1,
        "X" -> 1,
        "Y2" -> 16,
        "X2" -> 16,
        "CorruptionColor" -> 3,
        "Imputations" -> {
            {6, 14} -> 5,
            {6, 13} -> 2,
            {6, 12} -> 8,
            {6, 11} -> 8,
            {6, 10} -> 5,
            {7, 14} -> 5,
            {10, 14} -> 5,
            {7, 13} -> 2,
            {10, 13} -> 2,
            {7, 12} -> 5,
            {10, 12} -> 5,
            {7, 11} -> 5,
            {10, 11} -> 5,
            {7, 10} -> 5,
            {10, 10} -> 5,
            {8, 14} -> 2,
            {9, 14} -> 2,
            {8, 13} -> 2,
            {9, 13} -> 2,
            {8, 12} -> 7,
            {9, 12} -> 7,
            {8, 11} -> 8,
            {9, 11} -> 8,
            {8, 10} -> 8,
            {9, 10} -> 8
        }
    |>
    ,
    TestID -> "ARCFindSymmetry-20221002-92CIG5"
]

Test[
    Daniel`ARC`ARCFindSymmetry[
        Daniel`ARC`ARCParseFile["3631a71a"]["Train"][[4, "Input"]]
    ]
    ,
    <|
        "CenterY" -> 16.5,
        "CenterX" -> 16.5,
        "Y" -> 3,
        "X" -> 3,
        "Y2" -> 30,
        "X2" -> 30,
        "CorruptionColor" -> 9,
        "Imputations" -> {
            {30, 10} -> 6,
            {30, 11} -> 3,
            {29, 10} -> 6,
            {29, 11} -> 3,
            {5, 10} -> 3,
            {28, 10} -> 3,
            {5, 11} -> 0,
            {28, 11} -> 0,
            {5, 12} -> 2,
            {6, 10} -> 0,
            {27, 10} -> 0,
            {6, 11} -> 2,
            {27, 11} -> 2,
            {6, 12} -> 0,
            {7, 10} -> 2,
            {26, 10} -> 2,
            {7, 11} -> 7,
            {26, 11} -> 7,
            {7, 12} -> 7,
            {8, 30} -> 0,
            {8, 29} -> 0,
            {8, 28} -> 0,
            {25, 10} -> 0,
            {25, 11} -> 7,
            {9, 30} -> 0,
            {9, 29} -> 6,
            {9, 28} -> 3,
            {24, 10} -> 8,
            {24, 11} -> 1,
            {10, 30} -> 6,
            {10, 29} -> 6,
            {10, 28} -> 3,
            {11, 30} -> 3,
            {11, 29} -> 3,
            {11, 28} -> 0,
            {12, 6} -> 0,
            {12, 7} -> 7,
            {12, 8} -> 0,
            {12, 9} -> 1,
            {12, 10} -> 1,
            {12, 11} -> 0,
            {12, 12} -> 0,
            {12, 13} -> 2,
            {13, 6} -> 4,
            {13, 7} -> 1,
            {13, 8} -> 0,
            {13, 9} -> 7,
            {13, 10} -> 7,
            {13, 11} -> 0,
            {13, 12} -> 2,
            {13, 13} -> 0,
            {14, 6} -> 4,
            {14, 7} -> 0,
            {14, 8} -> 0,
            {14, 9} -> 7,
            {14, 10} -> 0,
            {14, 11} -> 2,
            {14, 12} -> 2,
            {14, 13} -> 2,
            {15, 6} -> 0,
            {18, 6} -> 0,
            {15, 7} -> 0,
            {18, 7} -> 0,
            {15, 8} -> 0,
            {18, 8} -> 0,
            {15, 9} -> 0,
            {15, 10} -> 2,
            {15, 11} -> 4,
            {15, 12} -> 4,
            {15, 13} -> 0,
            {16, 6} -> 0,
            {17, 6} -> 0,
            {16, 7} -> 0,
            {17, 7} -> 0,
            {16, 8} -> 4,
            {17, 8} -> 4,
            {5, 10} -> 3,
            {5, 11} -> 0,
            {5, 12} -> 2,
            {6, 10} -> 0,
            {6, 11} -> 2,
            {6, 12} -> 0,
            {7, 10} -> 2,
            {7, 11} -> 7,
            {7, 12} -> 7,
            {8, 28} -> 0,
            {8, 29} -> 0,
            {8, 30} -> 0,
            {9, 28} -> 3,
            {9, 29} -> 6,
            {9, 30} -> 0,
            {10, 28} -> 3,
            {10, 29} -> 6,
            {10, 30} -> 6,
            {11, 28} -> 0,
            {11, 29} -> 3,
            {11, 30} -> 3,
            {12, 6} -> 0,
            {12, 7} -> 7,
            {12, 8} -> 0,
            {12, 9} -> 1,
            {12, 10} -> 1,
            {12, 11} -> 0,
            {12, 12} -> 0,
            {12, 13} -> 2,
            {13, 6} -> 4,
            {13, 7} -> 1,
            {13, 8} -> 0,
            {13, 9} -> 7,
            {13, 10} -> 7,
            {13, 11} -> 0,
            {13, 12} -> 2,
            {13, 13} -> 0,
            {14, 6} -> 4,
            {14, 7} -> 0,
            {14, 8} -> 0,
            {14, 9} -> 7,
            {14, 10} -> 0,
            {14, 11} -> 2,
            {14, 12} -> 2,
            {14, 13} -> 2,
            {15, 6} -> 0,
            {15, 7} -> 0,
            {15, 8} -> 0,
            {15, 9} -> 0,
            {15, 10} -> 2,
            {15, 11} -> 4,
            {15, 12} -> 4,
            {15, 13} -> 0,
            {16, 6} -> 0,
            {16, 7} -> 0,
            {16, 8} -> 4,
            {17, 6} -> 0,
            {17, 7} -> 0,
            {17, 8} -> 4,
            {18, 6} -> 0,
            {18, 7} -> 0,
            {18, 8} -> 0,
            {24, 10} -> 8,
            {24, 11} -> 1,
            {25, 10} -> 0,
            {25, 11} -> 7,
            {26, 10} -> 2,
            {26, 11} -> 7,
            {27, 10} -> 0,
            {27, 11} -> 2,
            {28, 10} -> 3,
            {28, 11} -> 0,
            {29, 10} -> 6,
            {29, 11} -> 3,
            {30, 10} -> 6,
            {30, 11} -> 3
        }
    |>
    ,
    TestID -> "ARCFindSymmetry-20221002-96NNPI"
]

Test[
    Daniel`ARC`ARCFindSymmetry[
        Daniel`ARC`ARCParseFile["4938f0c2"]["Train"][[1, "Input"]]
    ]
    ,
    None
    ,
    TestID -> "ARCFindSymmetry-20221002-9N5YV3"
]